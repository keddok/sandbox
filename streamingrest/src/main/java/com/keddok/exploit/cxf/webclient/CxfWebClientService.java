package com.keddok.exploit.cxf.webclient;

import com.keddok.exploit.cxf.webclient.db.DbAccessService;
import org.springframework.beans.factory.annotation.Autowired;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import java.util.List;

/**
 * @author keddok
 * @since 21.12.2017
 */
@Path("/")
@Produces("application/json;charset=UTF-8")
public class CxfWebClientService {
    @Autowired
    private DbAccessService dbAccessService;

    @GET
    @Path("/echo")
    public String echo(@QueryParam("value") String value) throws InterruptedException {
        return value;
    }

    @GET
    @Path("/get")
    public String getData() throws InterruptedException {
        return dbAccessService.getData();
    }

    @GET
    @Path("/getlist")
    public String getListData() throws InterruptedException {
        return dbAccessService.getListData().toString();
    }
}
